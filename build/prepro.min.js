/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(1);
module.exports = __webpack_require__(14);


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _view = __webpack_require__(2);

var _view2 = _interopRequireDefault(_view);

var _loader = __webpack_require__(10);

var _loader2 = _interopRequireDefault(_loader);

var _colors = __webpack_require__(11);

var _openpose = __webpack_require__(12);

var _openpose2 = _interopRequireDefault(_openpose);

var _spectrogram = __webpack_require__(13);

var _spectrogram2 = _interopRequireDefault(_spectrogram);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var DEFAULT_CONFIG_FILENAME = 'prepro.json';
var DEFAULT_VIDEO_FILENAME = 'source.mov';

/**
 * Main Prepro class
 */

var Prepro = function () {
  /**
   * Instanciate the Prepro class.
   */
  function Prepro() {
    _classCallCheck(this, Prepro);

    this.services = {};
    this.frames = [];
    this.config = {};
    this.data = [];
  }

  /**
   * Loads a prepro data folder generated by the CLI.
   * @param  {String} folder The prepro data folder that contains prepro.json
   * @return {Promise}       A Promise that completes when everything is loaded.
   */


  _createClass(Prepro, [{
    key: 'load',
    value: function load(folder) {
      var _this = this;

      return new Promise(function (resolve, reject) {
        fetch(folder + '/' + DEFAULT_CONFIG_FILENAME).then(function (data) {
          return data.json();
        }).then(function (config) {
          _this.config = config;
          _this.config['folder'] = folder;
          (0, _loader2.default)(folder, config).then(function (data) {
            _this.data = data;
            _this.setupServices_(data);
            _this.addView('#prepro');
            resolve();
          }).catch(reject);
        });
      });
    }

    /**
     * Add a view.
     * @param {Element|String} el View container element or query selector.
     */

  }, {
    key: 'addView',
    value: function addView(el) {
      if (typeof el == 'string') {
        el = document.querySelector(el);
      }
      var videoFile = this.config.folder + '/' + DEFAULT_VIDEO_FILENAME;
      this.view = new _view2.default(el);
      this.view.setup(videoFile, this.config);
    }

    /**
     * Starts playback.
     */

  }, {
    key: 'play',
    value: function play() {
      if (!this.view) {
        console.warn('No view created. Have you called prepro.addView(el)?');
        return;
      }
      this.view.play();
    }

    /**
     * Pause playback.
     */

  }, {
    key: 'pause',
    value: function pause() {
      if (!this.view) {
        console.warn('No view created. Have you called prepro.addView(el)?');
        return;
      }
      this.view.pause();
    }

    /**
     * Returns a snapshot of all the availalbe services for the current frame.
     * @return {Dictionary} The snapshot
     */

  }, {
    key: 'getCurrentFrame',
    value: function getCurrentFrame() {
      if (!this.view) {
        console.warn('No view created. Have you called prepro.addView(el)?');
        return null;
      }
      var frameNum = Math.floor(this.view.pct * this.config.totalframes);
      var frame = { frame: frameNum };
      for (var service in this.services) {
        frame[service] = this.services[service].getFrame(frameNum);
      }
      return frame;
    }

    /**
     * Setup the services from loaded data.
     * @param {Object} data - The data object generated by the Loader.
     * @private
     */

  }, {
    key: 'setupServices_',
    value: function setupServices_(data) {
      this.services.colors = new _colors.Colors(data.colors);
      this.services.openpose = new _openpose2.default(data.openpose);
      this.services.spectrogram = new _spectrogram2.default(data.spectrogram);
    }
  }]);

  return Prepro;
}();

// TODO: TO BE MOVED


var el = document.getElementById('prepro');
el.classList.add('prepro-container');
window.prepro = new Prepro(el);

module.exports = Prepro;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _colors = __webpack_require__(3);

var _colors2 = _interopRequireDefault(_colors);

var _openpose = __webpack_require__(5);

var _openpose2 = _interopRequireDefault(_openpose);

var _spectrogram = __webpack_require__(7);

var _spectrogram2 = _interopRequireDefault(_spectrogram);

var _timeline = __webpack_require__(9);

var _timeline2 = _interopRequireDefault(_timeline);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var View = function () {
  function View(container) {
    _classCallCheck(this, View);

    this.video = document.createElement('video');
    this.video.loop = true;
    this.video.classList.add('prepro-video');
    this.video.addEventListener('click', this.onVideoClicked_.bind(this), false);
    container.append(this.video);

    this.el = document.createElement('div');
    this.el.classList.add('prepro-view', 'prepro-reactive');
    this.el.innerHTML = '\n      <div class="prepro-timeline-cursor"></div>\n      <div class="prepro-timeline-cursor-bg"></div>\n      <div class="prepro-services"></div>\n    ';
    container.append(this.el);

    this.timeline = new _timeline2.default(this.el);

    var serviceEl = this.el.querySelector('.prepro-services');
    this.colorsView = new _colors2.default(serviceEl);
    this.openposeView = new _openpose2.default(serviceEl);
    this.spectrogramView = new _spectrogram2.default(serviceEl);

    this.pct_ = 0;
    this.interval_ = false;
    this.framerate_ = 0;

    // this.setupAutoHide_(2000);
    window.addEventListener('resize', this.onVideoResize_.bind(this));
  }

  _createClass(View, [{
    key: 'setup',
    value: function setup(src, config) {
      this.src = src;
      this.framerate_ = config.framerate_;
      this.showFrameDetails(prepro.getCurrentFrame());
    }
  }, {
    key: 'play',
    value: function play() {
      this.video.play();
      this.interval_ = setInterval(this.update.bind(this), 1000 / this.framerate_);
    }
  }, {
    key: 'pause',
    value: function pause() {
      this.video.pause();
      clearInterval(this.interval_);
    }
  }, {
    key: 'update',
    value: function update() {
      this.pct_ = this.video.currentTime / this.video.duration;
      if (!isNaN(this.pct_)) {
        this.timeline.update(this.pct_);
        this.showFrameDetails(prepro.getCurrentFrame());
      }
    }
  }, {
    key: 'showFrameDetails',
    value: function showFrameDetails(frame) {
      this.colorsView.show(frame.colors);
      this.openposeView.show(frame.openpose);
      this.spectrogramView.show(frame.spectrogram);
    }
  }, {
    key: 'onVideoClicked_',
    value: function onVideoClicked_(evt) {
      if (this.video.paused) {
        this.play();
      } else {
        this.pause();
      }
    }
  }, {
    key: 'onVideoResize_',
    value: function onVideoResize_(evt) {
      this.openposeView.resize();
    }
  }, {
    key: 'setupAutoHide_',
    value: function setupAutoHide_(delay) {
      var _this = this;

      var hideTimeout = null;
      this.el.classList.add('prepro-autohide');
      var autohide = function autohide() {
        _this.el.classList.remove('prepro-hidden');
        clearTimeout(hideTimeout);
        hideTimeout = setTimeout(function () {
          return _this.el.classList.add('prepro-hidden');
        }, delay);
      };

      this.el.addEventListener('mouseover', function (evt) {
        window.removeEventListener('mousemove', autohide, false);
        clearTimeout(hideTimeout);
      });

      this.el.addEventListener('mouseleave', function (evt) {
        window.addEventListener('mousemove', autohide, false);
      });
      window.addEventListener('mousemove', autohide, false);
      autohide();
    }
  }, {
    key: 'pct',
    set: function set(val) {
      this.pct_ = val;
      this.video.pause();
      this.video.currentTime = this.pct_ * this.video.duration;
      this.update();
    },
    get: function get() {
      return this.pct_;
    }
  }, {
    key: 'src',
    set: function set(source) {
      this.video.src = source;
    }
  }]);

  return View;
}();

module.exports = View;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var tpl = __webpack_require__(4);

var ColorsView = function () {
  function ColorsView(container) {
    _classCallCheck(this, ColorsView);

    this.el = document.createElement('div');
    this.el.classList.add('prepro-block', 'prepro-colors');
    container.appendChild(this.el);
  }

  _createClass(ColorsView, [{
    key: 'show',
    value: function show(colors) {
      this.el.innerHTML = tpl({ colors: colors });
    }
  }]);

  return ColorsView;
}();

module.exports = ColorsView;

/***/ }),
/* 4 */
/***/ (function(module, exports) {

module.exports = function (obj) {
obj || (obj = {});
var __t, __p = '', __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
with (obj) {
__p += '<h1 class="prepro-title">Color Palette</h1>\n<div class="prepro-palette">\n';
 for (let color of colors) { ;
__p += '\n  <div class="prepro-color" style="background-color:' +
((__t = (color)) == null ? '' : __t) +
'"></div>\n';
 } ;
__p += '\n</div>\n';

}
return __p
}

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var tpl = __webpack_require__(6);

var OpenposeView = function () {
  function OpenposeView(container) {
    _classCallCheck(this, OpenposeView);

    this.container = container;

    this.el = document.createElement('div');
    this.el.classList.add('prepro-block', 'prepro-openpose');
    this.el.innerHTML = tpl({ config: prepro.config });
    container.appendChild(this.el);

    this.canvas = this.el.querySelector('canvas');
    this.ctx = this.canvas.getContext('2d');
  }

  _createClass(OpenposeView, [{
    key: 'show',
    value: function show(data) {
      if (!data) {
        return;
      }

      var ctx = this.ctx;

      ctx.canvas.width = ctx.canvas.height * prepro.config.width / prepro.config.height;

      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);

      ctx.strokeStyle = 'rgba(255,255,255, 0.75)';
      ctx.lineWidth = 4;
      ctx.rect(3, 3, ctx.canvas.width - 3 * 2, ctx.canvas.height - 3 * 2);
      ctx.stroke();

      ctx.fillStyle = 'white';
      var joints = [
      // neck
      [0, 1],
      // left shoulder & arm
      [1, 2, 3, 4],
      // right shoulder & arm
      [1, 5, 6, 7],
      // left body & leg
      [1, 8, 9, 10],
      // right body & leg
      [1, 11, 12, 13]];
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var pose = _step.value;

          var pts = pose['pose_keypoints'];
          for (var i = 0; i < pts.length / 3; i++) {
            var x = pts[i * 3];
            var y = pts[i * 3 + 1];
            var c = pts[i * 3 + 2];
            ctx.fillStyle = 'rgba(255, 255, 255, ' + c + ')';
            ctx.beginPath();
            ctx.arc(x, y, 5, 0, 2 * Math.PI);
            ctx.fill();
          }

          ctx.lineWidth = 8;
          var _iteratorNormalCompletion2 = true;
          var _didIteratorError2 = false;
          var _iteratorError2 = undefined;

          try {
            for (var _iterator2 = joints[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              var j = _step2.value;

              ctx.beginPath();
              var _c = pts[j[0] * 3 + 2];
              if (_c > 0.2) {
                ctx.moveTo(pts[j[0] * 3], pts[j[0] * 3 + 1]);
              }
              var _iteratorNormalCompletion3 = true;
              var _didIteratorError3 = false;
              var _iteratorError3 = undefined;

              try {
                for (var _iterator3 = j[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                  var pi = _step3.value;

                  var _c2 = pts[pi * 3 + 2];
                  if (_c2 > 0.1) {
                    ctx.strokeStyle = 'rgba(255, 255, 255, ' + _c2 + ')';
                    ctx.lineTo(pts[pi * 3], pts[pi * 3 + 1]);
                  }
                }
              } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion3 && _iterator3.return) {
                    _iterator3.return();
                  }
                } finally {
                  if (_didIteratorError3) {
                    throw _iteratorError3;
                  }
                }
              }

              ctx.stroke();
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator2.return) {
                _iterator2.return();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
  }, {
    key: 'resize',
    value: function resize() {
      var w = this.ctx.canvas.clientHeight * prepro.config.width / prepro.config.height;
      this.ctx.canvas.style.width = w + 'px';
    }
  }]);

  return OpenposeView;
}();

module.exports = OpenposeView;

/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = function (obj) {
obj || (obj = {});
var __t, __p = '';
with (obj) {
__p += '<h1 class="prepro-title">Pose Detection</h1>\n<canvas class="open-pose" width="' +
((__t = ( config.width )) == null ? '' : __t) +
'" height="' +
((__t = ( config.height )) == null ? '' : __t) +
'"></canvas>\n';

}
return __p
}

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var tpl = __webpack_require__(8);

var SpectrogramView = function () {
  function SpectrogramView(container) {
    _classCallCheck(this, SpectrogramView);

    this.container = container;

    this.el = document.createElement('div');
    this.el.classList.add('prepro-block', 'prepro-spectrogram');
    this.el.innerHTML = tpl();
    container.appendChild(this.el);

    this.canvas = this.el.querySelector('canvas');
    this.ctx = this.canvas.getContext('2d');
  }

  _createClass(SpectrogramView, [{
    key: 'show',
    value: function show(data) {
      if (!data) {
        return;
      }

      var ctx = this.ctx;
      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);

      ctx.beginPath();
      ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
      ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';
      ctx.lineWidth = 3;

      var coords = function coords(i) {
        return {
          x: i / data.length * ctx.canvas.width,
          y: (1 - data[i]) * ctx.canvas.height
        };
      };

      var start = coords(0);
      ctx.moveTo(start.x, start.y);
      for (var i = 0; i < data.length; i += 8) {
        var pt = coords(i);
        ctx.lineTo(pt.x, pt.y);
      }
      ctx.lineTo(3, ctx.canvas.height - 3);
      ctx.lineTo(start.x + 3, start.y - 3);
      ctx.fill();
      ctx.stroke();
    }
  }]);

  return SpectrogramView;
}();

module.exports = SpectrogramView;

/***/ }),
/* 8 */
/***/ (function(module, exports) {

module.exports = function (obj) {
obj || (obj = {});
var __t, __p = '';
with (obj) {
__p += '<h1 class="prepro-title">Sound Spectrum</h1>\n<canvas class="prepro-soundspectrum" width="300" height="200"></canvas>\n';

}
return __p
}

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TimelineView = function () {
  function TimelineView(container) {
    _classCallCheck(this, TimelineView);

    this.container = container;
    this.cursor = container.querySelector('.prepro-timeline-cursor');
    container.addEventListener('mouseover', this.onMouseOver_.bind(this), false);
    container.addEventListener('mousemove', this.onMouseMove_.bind(this), false);
  }

  _createClass(TimelineView, [{
    key: 'update',
    value: function update(pct) {
      this.cursor.style.width = pct * 100 + '%';
    }

    /* PRIVATE */

  }, {
    key: 'onMouseMove_',
    value: function onMouseMove_(event) {
      var pct = event.clientX / this.container.clientWidth;
      prepro.view.pct = pct;
    }
  }, {
    key: 'onMouseOver_',
    value: function onMouseOver_(event) {
      prepro.view.pause();
    }
  }]);

  return TimelineView;
}();

module.exports = TimelineView;

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function loadJSON(path) {
  return fetch(path).then(function (data) {
    return data.json();
  });
}

function loadImage(path) {
  return new Promise(function (resolve, reject) {
    var img = new Image();
    img.addEventListener('load', function (evt) {
      resolve(img);
    });
    img.src = path;
  });
}

function loadAll(folder, config) {
  return new Promise(function (resolve, reject) {
    var data = {};
    var loaders = config.services.map(function (s) {
      var name = s.name.split('2').pop();
      if (['openpose', 'colors', 'spectrogram'].indexOf(name) == -1) {
        return;
      }
      switch (s.type) {
        case 'json':
          return loadJSON(folder + '/' + s.path).then(function (json) {
            return data[name] = json;
          });
        case 'png':
        case 'jpg':
          return loadImage(folder + '/' + s.path).then(function (image) {
            return data[name] = image;
          });
      }
    });
    Promise.all(loaders).then(function () {
      return resolve(data);
    }).catch(function (err) {
      console.error('Error loading files:');
      console.error(err);
    });
  });
}

module.exports = loadAll;

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Palette = function (_Array) {
  _inherits(Palette, _Array);

  function Palette(colors) {
    _classCallCheck(this, Palette);

    var _this = _possibleConstructorReturn(this, (Palette.__proto__ || Object.getPrototypeOf(Palette)).call(this));

    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = colors[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var c = _step.value;

        _this.push('#' + c);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    return _this;
  }

  return Palette;
}(Array);

var Colors = function () {
  function Colors(data) {
    _classCallCheck(this, Colors);

    this.frames = [];
    this.data = data;
  }

  _createClass(Colors, [{
    key: 'getFrame',
    value: function getFrame(i) {
      return this.frames[i];
    }
  }, {
    key: 'data',
    set: function set(d) {
      this.data_ = d;
      this.frames = [];
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = d[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var frameColors = _step2.value;

          this.frames.push(new Palette(frameColors));
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }
    },
    get: function get() {
      return this.data_;
    }
  }]);

  return Colors;
}();

module.exports = {
  Palette: Palette,
  Colors: Colors
};

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Openpose = function () {
  function Openpose(data) {
    _classCallCheck(this, Openpose);

    this.frames = [];
    this.data = data;
  }

  _createClass(Openpose, [{
    key: 'getFrame',
    value: function getFrame(i) {
      return this.frames[i];
    }
  }, {
    key: 'data',
    set: function set(d) {
      this.data_ = d;
      this.frames = [];
      var total = Object.keys(d).length;
      this.frames[0] = d[1]['people'];
      for (var i = 1; i < total + 1; i++) {
        this.frames[i] = d[i]['people'];
      }
    },
    get: function get() {
      return this.data_;
    }
  }]);

  return Openpose;
}();

module.exports = Openpose;

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Spectrogram = function () {
  function Spectrogram(data) {
    _classCallCheck(this, Spectrogram);

    this.frames = [];
    this.data = data;
  }

  _createClass(Spectrogram, [{
    key: 'getFrame',
    value: function getFrame(i) {
      return this.frames[i];
    }
  }, {
    key: 'data',
    set: function set(d) {
      this.data_ = d;
      var w = d.width;
      var h = d.height;

      var canvas = document.createElement('canvas');
      canvas.width = w;
      canvas.height = h;
      var ctx = canvas.getContext('2d');
      ctx.drawImage(d, 0, 0, w, h);
      var pixels = ctx.getImageData(0, 0, w, h).data;
      for (var i = 0; i < w; i++) {
        var frame = [];
        for (var j = 0; j < h; j++) {
          var k = j * w + i;
          var v = pixels[k * 4];
          frame.push(v / 255);
        }
        this.frames.push(frame);
      }
    },
    get: function get() {
      return this.data_;
    }
  }]);

  return Spectrogram;
}();

module.exports = Spectrogram;

/***/ }),
/* 14 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ })
/******/ ]);